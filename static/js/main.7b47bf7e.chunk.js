(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(36)},28:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),l=a.n(r),s=a(22),o=a(6),i=(a(28),a(7)),m=a(8),u=function(){var e=Object(n.useContext)(w).items,t=Array.from(e);return console.log(t),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"basket-container"},c.a.createElement("img",{className:"basket-image",src:"/img/icos/cart4.png"}),e.length>=1&&c.a.createElement("div",{className:"basket-items"},c.a.createElement("span",null,e.length))))},p=function(){return c.a.createElement("header",{className:"head"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(i.c,{to:"/",exact:!0,className:"header-link",activeClassName:"active-link"},"Home")),c.a.createElement("li",null,c.a.createElement(i.c,{to:"/phones",className:"header-link",activeClassName:"active-link"},"Phones"))),c.a.createElement("form",null,c.a.createElement("input",{size:"30",placeholder:"try to find something",className:"searchPhone",type:"search",name:"searchfield"}),c.a.createElement("button",{className:"searchSubmit",type:"submit"},"Go")),c.a.createElement(i.b,{to:"/basket",className:"basket"},c.a.createElement(u,null)))},d=function(){return c.a.createElement("h1",{className:"greatings-header"},"Welcome back, stranger")},E=function(){var e=Object(n.useContext)(w).items,t=new Set(e);return console.log(t),c.a.createElement("section",{className:"basket-container"},"1")},h=a(4),f=a.n(h),b=a(9),g=a(21),v=a.n(g),N=function(){return c.a.createElement("div",{className:"lds-hourglass"})},O=function(){var e=Object(b.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/phone-catalogue-static/api/phones.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/phone-catalogue-static/api/phones/".concat(t,".json"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=Object(n.useContext)(w),a=t.handleCliCkAdd,r=t.items,l=Object(n.useState)(!1),s=Object(o.a)(l,2),m=s[0],u=s[1],p=Object(n.useState)([]),d=Object(o.a)(p,2),E=d[0],h=d[1];return Object(n.useEffect)(function(){Object(b.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,h(t),u(!0);case 5:case"end":return e.stop()}},e)}))()},[]),m?c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"catalog-container"},E.map(function(t){return c.a.createElement("li",{className:"catalog-item"},c.a.createElement(i.b,{to:"".concat(e.match.path,"/").concat(t.id),className:"link card-link"},c.a.createElement("img",{src:"/".concat(t.imageUrl),className:"product-image",alt:t.id}),c.a.createElement("p",{className:"title"},t.name),c.a.createElement("p",{className:"overview"},t.snippet)),c.a.createElement("button",{className:"buy-button",type:"button",onClick:function(){return a({id:t.id,imageUrl:t.imageUrl})}},r.some(function(e){return e.id===t.id})?"ADD MORE":"ADD TO CART"))})),c.a.createElement(v.a,{ContainerClassName:"scroll-button",EasingType:"easeInOutSine",StopPosition:1,ShowAtPosition:250})):c.a.createElement(N,null)},C=function(e){var t=e.match,a=Object(n.useContext)(w),r=a.handleCliCkAdd,l=a.items,s=Object(n.useState)(!1),i=Object(o.a)(s,2),m=i[0],u=i[1],p=Object(n.useState)([]),d=Object(o.a)(p,2),E=d[0],h=d[1],g=Object(n.useState)(0),v=Object(o.a)(g,2),O=v[0],k=v[1];Object(n.useEffect)(function(){Object(b.a)(f.a.mark(function e(){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.params.idPhone);case 2:a=e.sent,h(a),u(!0);case 5:case"end":return e.stop()}},e)}))()},[]);return console.log(E),m?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"phone-container"},c.a.createElement("section",{className:"phone-pictures-container"},c.a.createElement("img",{className:"main-picture",onClick:function(){return function(){var e=0;O!==E.images.length-1&&(e=O+1),k(e)}()},src:"/".concat(E.images&&E.images[O]),alt:E.id}),E.images&&E.images.map(function(e,t){return c.a.createElement("img",{className:"image-detail ".concat(t===O&&"active-image"),src:"/".concat(e),alt:E.id,onClick:function(){k(t)}})})),c.a.createElement("section",{className:"phone-detail-container"},c.a.createElement("div",{className:"item-header"},c.a.createElement("h2",null,E.id),c.a.createElement("button",{className:"add-button",type:"button",onClick:function(){return r({id:E.id,imageUrl:E.images[0]})}},l.some(function(e){return e.id===E.id})?"ADD MORE":"ADD TO CART")),c.a.createElement("p",null,E.description),c.a.createElement("div",{className:"phone-additional"},"Details...")))):c.a.createElement(N,null)},x=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"error 404"),c.a.createElement("h4",null,"Page not foung"),c.a.createElement("p",null,"Go to menu and choose correct address"))},w=c.a.createContext(),y=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1];return c.a.createElement(w.Provider,{value:{items:a,handleCliCkAdd:function(e){r([].concat(Object(s.a)(a),[e]))}}},c.a.createElement(i.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(p,{className:"Header"}),c.a.createElement("main",null,c.a.createElement(m.c,null,c.a.createElement(m.a,{path:"/",exact:!0,component:d}),c.a.createElement(m.a,{path:"/basket",component:E}),c.a.createElement(m.a,{path:"/phones",exact:!0,component:function(e){return c.a.createElement(k,Object.assign({className:"PhonePage"},e))}}),c.a.createElement(m.a,{path:"/phones/:idPhone",component:function(e){return c.a.createElement(C,e)}}),c.a.createElement(m.a,{component:x}))))))};l.a.render(c.a.createElement(y,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.7b47bf7e.chunk.js.map